<html>
  <head>
    <title>AR</title>
    <script
      type="module"
      src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"
    ></script>
  </head>
  <body>
    <!-- <model-viewer
      src="Bed_origin.glb"
      alt="A 3D model"
      auto-rotate
      camera-controls
      scale="1 1 1"
      style="width: 100%; height: 100%"
      ar
      ar-modes="webxr scene-viewer quick-look"
    >
    </model-viewer> -->

    <model-viewer
    src="Bed_origin.glb"
    alt="A 3D model"
    auto-rotate
    camera-controls
    scale="1 1 1"
    style="width: 100%; height: 100%"
    ar
    ar-modes="scene-viewer quick-look"
  >
  </model-viewer>

    <script>
      const modelViewer = document.querySelector("#modelViewer");
      modelViewer.addEventListener("load", () => {
        // Use a temporary scene to calculate dimensions
        const scene = modelViewer.model;

        // Use the scale to set a fixed reference size
        const scale = modelViewer.scale; // Get the current scale

        console.log(scale);

        // Adjust this based on known dimensions or a manual approximation
        const estimatedWidth = 1; // Adjust based on your model's real-world size
        const estimatedHeight = 1; // Adjust based on your model's real-world size
        const estimatedDepth = 1; // Adjust based on your model's real-world size

        // Log estimated dimensions
        console.log(
          `Estimated Width: ${estimatedWidth}, Height: ${estimatedHeight}, Depth: ${estimatedDepth}`
        );

        // Calculate a scale factor
        const maxSize = 1.0; // Desired maximum size
        const maxDim = Math.max(
          estimatedWidth,
          estimatedHeight,
          estimatedDepth
        );

        const scaleFactor = maxSize / maxDim;
        modelViewer.scale = `${scaleFactor} ${scaleFactor} ${scaleFactor}`;
        console.log(modelViewer.scale);
      });
    </script>
  </body>
</html>
